"use strict";(self.webpackChunkgithub_liam_editor=self.webpackChunkgithub_liam_editor||[]).push([[224],{224:function(e,n,t){t.r(n),t.d(n,{default:function(){return R}});var i=t(283),o=t(842),r=t.n(o),a=function(e){var n=this;n.options=Object.assign({},{on:function(){}},e),n.fileHandle=null,n.File=null};a.prototype.open=function(e){var n=this,t=n.options.on;try{window.showOpenFilePicker({types:[{description:"liam js schema",accept:{"application/javascript":[".js"]}}],excludeAcceptAllOption:!0,multiple:!1}).then((function(i){n.fileHandle=i[0],t.apply(n,["showOpenFilePicker"]),e&&e.call(n)}))}catch(i){console.log("window.showOpenFilePicker \u9700\u8981\u5728 https \u4e0b\u6253\u5f00",i)}},a.prototype.saveAs=function(e,n){var t=this,o=t.options.on,r={suggestedName:i.Z.get("project-name").replace(".js","")+".js",types:[{description:"liam js schema",accept:{"application/javascript":[".js"]}}],excludeAcceptAllOption:!0,multiple:!1};"undefined"==typeof window.showSaveFilePicker&&new Error("\u60a8\u7684\u6d4f\u89c8\u5668\u6682\u4e0d\u652f\u6301 showSaveFilePicker\uff0c\u6216\u8005\u9875\u9762\u6ca1\u6709\u4f7f\u7528 https"),window.showSaveFilePicker(r).then((function(i){t.fileHandle=i,o.apply(t,["showSaveFilePicker"]),t.save(e,n)}))},a.prototype.save=function(e,n){var t=this,i=t.options.on;t.fileHandle?t.fileHandle.createWritable().then((function(o){t.writable=o,i.apply(t,["createWritable",o]),o.write(e).then((function(e){i.apply(t,["write",e]),o.close().then((function(e){i.apply(t,["close"],e),o=null,i.apply(t,["save"],e),n&&n.call(t)}))}))})):t.saveAs(e,n)},a.prototype.set=a.prototype.save,a.prototype.get=function(e){var n=this,t=n.options.on;n.fileHandle?n.fileHandle.getFile().then((function(i){n.File=i,t.apply(n,["getFile",i]),n.File.text().then((function(i){n.text=i,t.apply(n,["text",i]),e&&e.call(n,i)}))})):e&&e.call(void 0)};var c="",s="",l=null,p=function(e,n){var t=n&&n.name?n.name:"undefined";s=e,i.Z.set("project-name",t),i.Z.set("project-status","saved")},u=function(){},d=function(){},f=function(e){l||(l=r().createInstance({name:"liam-web-db"})),e()},m=new a({on:function(e,n){}}),v=function(e){m.get((function(n){var t,i;t=n,i=this.File,c=t||c,f((function(){l.setItem("liam-temp-project",c),e&&e(c,i)}))}))},g=function(e,n,t){c=e,"saveAs"===t?m.saveAs(c,(function(){n&&n(this.fileHandle)})):m.set(c,(function(){n&&n(this.fileHandle)})),f((function(){l.setItem("liam-temp-project",c)}))},h="popup",y=function(){return h="popup"===h?"embed":"popup"},w={open:function(){var e;e=function(e,n){p(e,n),u(e)},m.fileHandle?window.confirm("\u60a8\u786e\u5b9a\u8981\u6253\u5f00\u4e00\u4e2a\u65b0\u7684\u9879\u76ee\u5417\uff1f")&&m.open((function(){v(e)})):m.open((function(){v(e)}))},save:function(){g(c||"",(function(e){p(c,e)}))},saveAs:function(){g(c||"",(function(e){p(c,e)}),"saveAs")},generate:function(){!function(e,n){var t=document.createElement("a"),i=new Blob([n]),o=navigator.userAgent.indexOf("Mac OS")>-1,r=document.createEvent(o?"MouseEvents":"HTMLEvents");r[o?"initMouseEvent":"initEvent"]("click",!1,!1),t.download=e,t.href=URL.createObjectURL(i),t.dispatchEvent(r)}("liam.html",'\n<!DOCTYPE html>\n<html lang="en">\n<head>\n<meta charset="UTF-8">\n<meta http-equiv="X-UA-Compatible" content="IE=edge">\n<meta name="viewport" content="width=device-width, initial-scale=1.0">\n<title>Liam APP</title>\n</head>\n<body>\n<div id="root"></div>\n<script src="https://e.sinaimg.cn/ssfe/lima/js/app.js?v=1.0.5"><\/script>\n<script>\n  (function(){\n    Liam.require([\'liam\'],function(Liam, text){\n      const js = (function(Liam, React, ReactDOM){\n        return '.concat(c.trim(),"\n      })(Liam, Liam.React, Liam.ReactDOM);\n      Liam.render(js, document.querySelector('#root'));\n    })\n  })();\n<\/script>\n</body>\n</html>\n  "))},toCodepen:function(){!function(e,n,t){var i=document.getElementsByTagName("body")[0],o=document.createElement("form");o.style.display="none";var r={method:"POST",action:e,target:t||"_blank",innerHTML:function(){var e=[];for(var t in n)Object.hasOwnProperty.call(n,t)&&e.push('<textarea type="hidden" name="'+t+'" >'+n[t]+"</textarea>");return e.join("")}()};for(var a in r)Object.hasOwnProperty.call(r,a)&&(o[a]=r[a]);i.appendChild(o),o.submit(),setTimeout((function(){i.removeChild(o)}),100)}("https://codepen.io/pen/define",{data:JSON.stringify({title:"Liam Demo",description:"Share From Liam Editor",tags:["liam","react","json"],js_external:"",css_external:"",html:'\n  <div id="root"></div>\n  <script src="https://e.sinaimg.cn/ssfe/lima/js/app.js?v=1.0.5"><\/script>\n  <script>\n    (function(){\n      const text = '.concat(JSON.stringify(c),";\n      Liam.require(['liam', 'text!https://e.sinaimg.cn/ssfe/lima/js/float-action-button.js?v=1.0.1'],function(Liam, floatButtonText){\n        \n          const js = [Liam.toJs(floatButtonText, {\n            text: text\n          }), Liam.toJs(text.trim())];\n          Liam.render(js, document.querySelector('#root'));\n        \n      })\n    })();\n  <\/script>\n  "),js:"",editors:"100"})})}},b=[["openLocal","\u6253\u5f00\u672c\u5730\u6587\u4ef6",w.open],["saveToLocal","\u4fdd\u5b58",w.save],["saveToLocal","\u53e6\u5b58",w.saveAs],["generatePage","\u751f\u6210\u9875\u9762",w.generate],["shareToCodepen","\u5206\u4eab\u5230 Codepen",w.toCodepen],"hr",["togglePreviewMode","\u5f39\u51fa\u9884\u89c8",function(){d(y())}],"hr",["disablePreview",{type:function(e){return e.Liam_get_disable_preview?"\u542f\u7528\u5b9e\u65f6\u9884\u89c8":"\u6682\u505c\u5b9e\u65f6\u9884\u89c8"},s:"disable_preview"},function(){i.Z.set("disable_preview",!i.Z.get("disable_preview"))}],"hr",["select","\u9009\u62e9",function(){i.Z.trigger("component-edit","select")}],["delete","\u5220\u9664",function(){i.Z.trigger("component-edit","delete")}],["copy","\u590d\u5236",function(){i.Z.trigger("component-edit","copy")}],["duplicate","\u91cd\u590d",function(){i.Z.trigger("component-edit","duplicate")}],["insert","\u63d2\u5165",function(){i.Z.trigger("component-edit","insert")}],["prepend","\u524d\u7f6e",function(){i.Z.trigger("component-edit","prepend")}],["append","\u540e\u7f6e",function(){i.Z.trigger("component-edit","append")}],["replace","\u66ff\u6362",function(){i.Z.trigger("component-edit","replace")}],["toParent","\u7236\u7ea7",function(){i.Z.trigger("component-edit","toParent")}]];i.Z.on("proect-actions",(function(e){w[e]()})),i.Z.require(["//e.sinaimg.cn/ssfe/unpkg/mousetrap@1.6.5/mousetrap.min.js"],(function(e){var n={open:"mod+o",save:"mod+s",saveAs:"mod+shift+s"},t=function(t){if(Object.hasOwnProperty.call(n,t)){var i=n[t];e.bind(i,(function(){w[t]()}))}};for(var i in n)t(i)})),window.addEventListener("beforeunload",(function(e){s!==c&&(e.preventDefault(),e.returnValue="")}));var L=!0,x=function(e){c=e.project,u=e.onOpen||function(){},d=e.onTogglePreviewMode||function(){},L?(L=!1,function(e){var n=function(n){e(c=n||c)};f((function(){l.getItem("liam-temp-project",(function(e,t){n(!e&&t?t:"")}))}))}((function(e){s=c=e,p(e),u(e)})),d(y())):c!==s?i.Z.set("project-status","changed"):i.Z.set("project-status","saved");var n=[{type:"a",props:{className:"logo"},children:"LIAM"}];return n=n.concat(b.map((function(e){return"hr"===e?{type:"span",props:{className:"divider-a"}}:{type:"button",children:e[1],props:{className:"button-a",onClick:e[2]}}})))},j=function(e){var n="\u2713",t=["status"],i=e.name||"\u672a\u547d\u540d";return"changed"===e.status?(n="*",t.push("status-changed")):t.push("status-saved"),[{type:"span",props:{className:t.join(" ")},children:n},{type:"span",props:{className:"name"},children:i}]},C=function(e){var n=e.notices.map((function(e){return{type:"p",children:"*"+e.message}}));return 0===n.length&&(n="* \u6682\u65e0\u6d88\u606f"),{type:"div",props:{className:"liam-notice"+(e.visible?" liam-notice-show":"")},children:[{type:"div",props:{className:"liam-notice-hd",onClick:function(){i.Z.set("project-notice-visible",!1)}},children:"\u6d88\u606f"},{type:"div",props:{className:"liam-notice-bd"},children:n}]}},M=new URL(window.location.href);function Z(e,n,t,i){var o,r=!1,a=0;function c(){o&&clearTimeout(o)}function s(){for(var s=arguments.length,l=new Array(s),p=0;p<s;p++)l[p]=arguments[p];var u=this,d=Date.now()-a;function f(){a=Date.now(),t.apply(u,l)}function m(){o=void 0}r||(i&&!o&&f(),c(),void 0===i&&d>e?f():!0!==n&&(o=setTimeout(i?m:f,void 0===i?e-d:e)))}return"boolean"!==typeof n&&(i=t,t=n,n=void 0),s.cancel=function(){c(),r=!0},s}i.Z.config({wrapText:!0,componentMap:{split:"url#https://e.sinaimg.cn/u/8/44/944/6947227956099/react-split-pane.production.min.js"}});var E=function(e){var n=window.location.search.split("?")[1];if(n)for(var t=n.split("&"),i=0;i<t.length;i++){var o=t[i].split("=");if(o[0]===e)return o[1]}}("url");E=E?decodeURIComponent(E):"",window.requirejs.config({context:"liam",paths:{acorn:"//e.sinaimg.cn/ssfe/liam/js/editor/acorn",acornWalk:"//e.sinaimg.cn/ssfe/unpkg/acorn-walk@8.2.0/dist/walk",AstTypes:"//e.sinaimg.cn/u/0/64/896/6950350070998/ast-types.production.min",escodegen:"//e.sinaimg.cn/u/2/07/971/6950349895395/escodegen.browser.min",vs:"//e.sinaimg.cn/ssfe/unpkg/monaco-editor@0.33.0/min/vs",windowMessageManager:"//e.sinaimg.cn/ssfe/liam/js/editor/windowMessageManager",popupWindowMessageManager:"//e.sinaimg.cn/ssfe/liam/js/editor/popupWindowMessageManager"}});var O=function(){},k=function(e){e=e||O,E?window.Liam.require(["windowMessageManager","text!"+E],e):window.Liam.require(["windowMessageManager"],e)},_=function(e){e=e||O,window.Liam.require(["vs/editor/editor.main"],e)},A=function(e){e=e||O,window.Liam.require(["acorn","acornWalk","AstTypes","escodegen"],e)};console.time("\u8d44\u6e90"),k(),_(),A();var N=function(){var e=null,n=null,t=null,i=null,o=function(){},r=function(t){var r=[],a=function(e){if(e.key){if("Identifier"===e.key.type)return e.key.name;if("Literal"===e.key.type)return e.key.value}return""},c=function e(n){var t=function(){var t=[];for(var i in n)if(Object.hasOwnProperty.call(n,i)){var r=n[i],a=Object.prototype.toString.call(r),c=void 0,s=void 0;"[object Object]"===a?s=r&&r.type?r:e(r):(c="[object Number]"===a?r:r&&"function"===typeof r.toString?r.toString():null,s=o.literal(c)),t.push(o.property("init",o.identifier(i),s))}return t}();return o.objectExpression(t)},s=function(e,n){var t=!1,i=e.end,o=e.start,s=e.loc,l=e.type;if("ObjectExpression"===l)for(var p=e.properties,u=0;u<p.length;u++){var d=p[u];if("__ast"===a(d)){t=!0;break}}if(t)return e;var f={end:i,start:o,startLine:s.start.line,startColumn:s.start.column+1,endLine:s.end.line,endColumn:s.end.column+1,parentType:n};if(r.push(f),"ObjectExpression"===l){var m=c({__ast:f});return e.properties=e.properties.concat(m.properties),e}return c({__type:e||null,__ast:f})},l=e.parse(t,{locations:!0});n.ancestor(l,{ObjectExpression:function(e,n){for(var t="ArrayExpression",i=e.properties,o=!1,r=0;r<i.length;r++){var c=i[r];if("type"===a(c)){o=!0;break}}o&&(n.length>1&&(t=n[n.length-1].type),s(e,t))}});var p=function(e){var n=function(e,n){var t=[];return e.forEach((function(e){var i=a(e),o=e.value;[n].indexOf(i)>-1&&("ArrayExpression"===o.type?o.elements.forEach((function(e){"Literal"===e.type&&t.push(e.value)})):"Literal"===o.type&&t.push(o.value))})),t},t=function(e){return"FunctionExpression"===e||"ArrowFunctionExpression"===e||"ClassExpression"===e},i=function e(n){var t=n.type;if("FunctionExpression"===t||"ArrowFunctionExpression"===t)n.body.body.forEach((function(e){"ReturnStatement"===e.type&&r(e)}));else if("ClassExpression"===t){n.body.body.forEach((function(n){"render"===n.key.name&&e(n.value)}))}},o=function(e,o){var c=e,l=e.type;if("ArrayExpression"===l)r(e);else if("ObjectExpression"===l){var p=e.properties,u=function(e){for(var n=!0,t=0;t<e.length;t++){var i=e[t],o=a(i),r=i.value;if("r"===o)if("ArrayExpression"===r.type)for(var c=0;c<r.elements.length;c++){var s=r.elements[c];if("Literal"===s.type&&"children"===s.value){n=!1;break}}else if("Literal"===r.type&&"children"===r.value){n=!1;break}}return n}(p);p.forEach((function(e){var o=a(e),c=e.value;if("children"===o&&u)r(e);else if("props"===o){var s=n(p,"n"),l=n(p,"r");if("ObjectExpression"===c.type&&s.length>0)c.properties.forEach((function(e){var n=a(e);s.indexOf(n)>-1&&r(e),l.indexOf(n)>-1&&i(e.value)}))}else"type"===o&&t(e.value.type)&&i(e.value)})),c=s(e,o)}else t(l)?(i(e),c=s(e,o)):"CallExpression"===l?(i(e.callee),c=s(e,o)):c=s(e,o);return c},r=function(e){var n=e.type;if("ArrayExpression"===n){var t=e.elements;t.forEach((function(e,i){t[i]=o(e,n)}))}else"Property"===n?e.value=o(e.value,n):"ReturnStatement"===n&&(e.argument=o(e.argument,n))};if(e&&e.body&&e.body[0]&&e.body[0].expression){var c=e.body[0].expression;r(c)}return e}(l);return{code:i.generate(p),source:r}};return function(a,c){var s;s=function(){c(r(a))},e?s():A((function(r,a,c){e=r,n=a,t=c,i=window.escodegen,o=t.builders,s()}))}}(),P={content:"",editor:null,editorModel:null,wm:null},S=function(){var e=null,n=P.setPreviewMode=function(e){t("popup"===e?"_blank":"preview-iframe")},t=function(n){P.wm&&P.wm.destory&&P.wm.destory(),M.searchParams.set("mode","preview");var t=P.wm=new e(M.toString(),{name:n,newTag:"_blank"===n,placement:"right-center",crossOriginAlert:!1,autoFocus:!1});P.onContentChange&&P.onContentChange(),t.on((function(e){if(e.type&&"preview-click"===e.type){var n=e.value.split("-").map((function(e){return Number(e)}));4===n.length&&P.selectComponent(n,!0)}e.type&&"preview-error"===e.type&&(i.Z.set("project-notices",e.value),e.value.length>0&&i.Z.set("project-notice-visible",!0)),e.type&&"preview-loaded"===e.type&&P.onContentChange&&P.onContentChange()}))};return function(t){e=t,n(""),i.Z.on("preview-mode",(function(e){n(e)}))}}(),T=function(e,n){n=n||P.content;var t=document.getElementById("editor");t.innerHTML="";var o=P.editor=window.editor=e.editor.create(t,{value:n||"",language:"javascript",glyphMargin:!0,foldingHighlight:!0,unfoldOnClickAfterEndOfLine:!0,links:!0}),r=P.editorModel=o.getModel();P.editorLayout=Z(100,(function(){P.editor.layout()}));var a=[],c="",s=[],l={};P.selectComponent=function(n,t,i){if(n){if(t&&o.revealRangeNearTop(new e.Range(n[0]-3,n[1],n[2],n[3]+3)),a.join("-")===n.join("-"))return;a=n,c=i,s=o.deltaDecorations(s,[{range:new e.Range(n[0],n[1],n[2],n[2]),options:{isWholeLine:!1,className:"liam-line-content",minimap:!0,firstLineDecorationClassName:"liam-first-line-decoration"}}]);var r=[n[0]-1,n[2]];!function(e){var n=function(n){if(Object.hasOwnProperty.call(l,n)){var t=l[n];-1===e.indexOf(n)&&o.changeViewZones((function(e){e.removeZone(t),delete l[n]}))}};for(var t in l)n(t)}(r),r.forEach((function(e){l[e]||o.changeViewZones((function(n){var t=document.createElement("div");t.className="liam-viewzone",l[e]=n.addZone({afterLineNumber:e,heightInLines:1,domNode:t})}))}))}};var p=P.componentEdit=function(){var n="",t=function(n){return n=n||a,r.getValueInRange(new e.Range(n[0],n[1],n[2],n[3]))},i=function(t,i){o.executeEdits("",[{range:new e.Range(t[0],t[1],t[2],t[3]),text:i||n}])},s=function(){n=t(a)},l=function(){"ArrayExpression"===c?i([a[2],a[3],a[2],a[3]],", "+n):i(a,"["+t()+", "+n+"]")},p={select:function(){o.setSelection(new e.Range(a[0],a[1],a[2],a[3]))},delete:function(){s(),i(a,"''")},copy:s,append:l,duplicate:function(){s(),l()},prepend:function(){"ArrayExpression"===c?i([a[0],a[1],a[0],a[1]],n+", "):i(a,"["+n+", "+t()+"]")},insert:function(){alert("\u6682\u4e0d\u652f\u6301\u6dfb\u52a0\u5230\u5b50\u8282\u70b9\uff0c\u53ef\u624b\u52a8\u6dfb\u52a0 children \u5b57\u6bb5")},replace:function(){i(a)},toParent:function(){d(a)}};return function(e){if("select"!==e){if(""===c)return void alert("\u8bf7\u9009\u4e2d\u4e00\u4e2a\u7ec4\u4ef6\uff0c\u518d\u8fdb\u884c "+e+" component \u64cd\u4f5c");if(-1!==["append","prepend","insert","replace"].indexOf(e)&&!n)return void alert("\u8bf7\u590d\u5236\u4e00\u4e2a\u7ec4\u4ef6\uff0c\u518d\u8fdb\u884c "+e+" component \u64cd\u4f5c");if(0===a.length||""===c)return void alert("\u8bf7\u9009\u4e2d\u4e00\u4e2a\u7ec4\u4ef6\uff0c\u518d\u8fdb\u884c "+e+" component \u64cd\u4f5c")}-1!==["select","delete","copy","append","duplicate","prepend","insert","replace","toParent"].indexOf(e)&&p[e]?(p[e](),o.focus()):alert("\u6682\u65f6\u4e0d\u652f\u6301 "+e+" component \u64cd\u4f5c")}}();i.Z.on("component-edit",(function(e){p(e)}));var u=[],d=function(e){if(4===e.length){var n=function(e){for(var n=[],t=0;t<u.length;t++){var i=u[t];(i.startLine<e[0]||i.startLine===e[0]&&i.startColumn<e[1])&&(i.endLine>e[2]||i.endLine===e[2]&&i.endColumn>e[3])&&n.push(i)}return n.sort((function(e,n){return n.startLine===e.startLine?n.startColumn-e.startColumn:n.startLine-e.startLine})),n}(e),t=n[0];if(t){var i=[t.startLine,t.startColumn,t.endLine,t.endColumn];P.wm.post({type:"cursor",value:i}),P.selectComponent(i,!1,t.parentType)}}},f=Z(500,(function(e){d([e.lineNumber,e.column,e.lineNumber,e.column])})),m=P.onContentChange=Z(200,(function(){var e=o.getValue(),n=i.Z.get("disable_preview"),t=!1;N(e,(function(e){t=!0,u=e.source,n||P.wm.post({type:"change",value:e.code}),4===a.length&&f({lineNumber:a[0],column:a[1]})})),t||n||P.wm.post({type:"change",value:e}),i.Z.set("project",e),P.content=e}));m(),r.onDidChangeContent((function(){m()})),o.onDidChangeCursorPosition((function(e){f(e.position)})),function(){var n={open:e.KeyMod.CtrlCmd|e.KeyCode.KeyO,save:e.KeyMod.CtrlCmd|e.KeyCode.KeyS,saveAs:e.KeyMod.CtrlCmd|e.KeyMod.Shift|e.KeyCode.KeyS},t=function(e){if(Object.hasOwnProperty.call(n,e)){var t=n[e];o.addCommand(t,(function(){i.Z.trigger("proect-actions",e)}))}};for(var r in n)t(r)}(),["select","delete","copy","append","duplicate","prepend","insert","replace"].forEach((function(e){var n;o.addAction({id:"component-"+e,label:(n=e,n.replace(/(?:^\w|[A-Z]|\b\w)/g,(function(e,n){return 0===n?e.toUpperCase():e})).replace(/\s+/g,"")+" Component"),precondition:null,keybindingContext:null,contextMenuGroupId:"0_component",contextMenuOrder:0,run:function(){p(e)}})})),function(){function n(n){return[["Liam","Liam \u6e32\u67d3\u5f15\u64ce","Liam."],["states","Liam \u521d\u59cb\u5316\u5168\u5c40\u72b6\u6001","states: {${1}},"],["componentMap","Liam \u7ec4\u4ef6\u540d\u7f29\u5199\u6620\u5c04","componentMap: {\n${1:shortName}: 'url#${2:https://xxxxxx.com/xxx/xx/xx.js}'\n},\n          "],["getComponent","Liam \u83b7\u53d6\u7ec4\u4ef6\u65b9\u6cd5","getComponent: function (ctx, next) {\nconst { schema } = ctx;\nif (schema.type && schema.type === '${1:Demo}') {\nctx.component = ${2:Demo};\n}\nnext();\n},\n            "],["config","Liam.config \u6e32\u67d3\u5f15\u64ce\u914d\u7f6e","Liam.config({${1}});"],["type","\u7ec4\u4ef6\u5b57\u7b26\u4e32\u4fe1\u606f","type: '${1}',"],["props","\u7ec4\u4ef6\u5c5e\u6027\u5bf9\u8c61","props: {${1}},"],["children","\u7ec4\u4ef6\u5b57\u8282\u70b9","children: ${1:[]},"],["s","\u8be5\u7ec4\u4ef6\u4f9d\u8d56\u7684\u5168\u5c40\u72b6\u6001\u540d","s: ${1:[]},"],["n","\u8be5\u7ec4\u4ef6\u5c5e\u4e8e\u8282\u70b9\u7684\u5c5e\u6027\u540d","n: ${1:[]},"],["r","\u8be5\u7ec4\u4ef6\u5c5e\u4e8e\u6e32\u67d3\u5c5e\u6027\u7684\u5c5e\u6027\u540d","r: ${1:[]},"],["__init","\u7ec4\u4ef6 init \u65f6\u8c03\u7528","__init: function(){${1}},"],["__didMount","\u7ec4\u4ef6 didMount \u65f6\u8c03\u7528","__didMount: function(){${1}},"],["__didUpdate","\u7ec4\u4ef6 didUpdate \u65f6\u8c03\u7528","__didUpdate: function(){${1}},"],["__willUnmount","\u7ec4\u4ef6 willUnmount \u65f6\u8c03\u7528","__willUnmount: function(){${1}},"],["__didCatch","\u7ec4\u4ef6 didCatch \u65f6\u8c03\u7528","__didCatch: function(){${1}},"],["set","Liam \u8bbe\u7f6e\u5168\u5c40\u72b6\u6001\u65b9\u6cd5","Liam.set('${1:name}', ${2:value});"],["get","Liam \u83b7\u53d6\u5168\u5c40\u72b6\u6001\u7684\u65b9\u6cd5","Liam.get('${1:name}');"],["on","Liam \u76d1\u542c\u5168\u5c40\u4e8b\u4ef6\u65b9\u6cd5","Liam.on('${1:name}', ${2:function(data){${3}}});"],["off","Liam \u5220\u9664\u76d1\u542c\u5168\u5c40\u4e8b\u4ef6\u65b9\u6cd5","Liam.off('${1:name}', ${2:event});"],["trigger","Liam \u89e6\u53d1\u5168\u5c40\u4e8b\u4ef6\u7684\u65b9\u6cd5","Liam.trigger('${1:name}', ${2:data};"]].map((function(t){return{label:t[0],kind:e.languages.CompletionItemKind.Function,detail:t[1],insertText:t[2],insertTextRules:e.languages.CompletionItemInsertTextRule.InsertAsSnippet,range:n}}))}e.languages.registerCompletionItemProvider("javascript",{provideCompletionItems:function(e,t){var i=e.getWordUntilPosition(t);return{suggestions:n({startLineNumber:t.lineNumber,endLineNumber:t.lineNumber,startColumn:i.startColumn,endColumn:i.endColumn})}}})}()},I=0;i.Z.on("preview-ready",(function(){var e;++I<2||(k((function(e,n){n=n||"";P.iframe=document.querySelector("#preview-iframe");S(e),P.wm.post({type:"change",data:n}),_((function(e){T(e,n)}))})),window.opener&&(e=(e=function(e){var n=new e(window.opener);n.on((function(e){e.type&&"edit"===e.type&&$(e.data)})),n.post("popupWindowMessageManager ready")})||O,window.Liam.require(["popupWindowMessageManager"],e)))}));var $=function(e){P.editorModel?(P.editorModel.setValue(e),setTimeout((function(){P.onContentChange()}),0)):P.content=e};i.Z.on("file-open",$),i.Z.on("pane-pointer-events",(function(e){P.iframe.style["pointer-events"]=e})),i.Z.on("pane-resize",(function(){P.editor&&P.editor.layout()})),window.addEventListener("resize",(function(){P.editor&&P.editor.layout()}));var F=[{type:"div",props:{key:"header",className:"liam-header"},children:{type:function(){return{type:x,props:{project:i.Z.get("project"),onOpen:function(e){i.Z.trigger("file-open",e)},onTogglePreviewMode:function(e){i.Z.trigger("preview-mode",e)}}}},s:"project"}},{type:"div",props:{key:"body",className:"liam-body"},children:[{type:"div",props:{key:"body-menu",className:"liam-body-menu"},children:[{type:"a",props:{className:"item",href:"",onClick:function(e){var n=i.Z.get("component-dialog");i.Z.get("component-dialog")?n.post(""):window.Liam.require(["windowMessageManager"],(function(e){M.searchParams.set("mode","demos"),n=new e(M.toString(),{name:"",newTag:!1,widthRatio:.7,heightRatio:.7,placement:"center-center",crossOriginAlert:!1,autoFocus:!0}),i.Z.set("component-dialog",n),n.post("")})),e.preventDefault()}},children:"\u7ec4\u4ef6"}]},{type:"div",props:{key:"body-content",className:"liam-body-content"},children:{type:"split#SplitPane",props:{split:"vertical",minSize:50,defaultSize:parseInt(localStorage.getItem("LIAM-EDITOR-SPLIT-SIZE"),10)||"50%",onChange:function(e){i.Z.trigger("pane-resize",e),localStorage.setItem("LIAM-EDITOR-SPLIT-SIZE",e)},onDragStarted:function(){i.Z.trigger("pane-pointer-events","none")},onDragFinished:function(){i.Z.trigger("pane-pointer-events","inherit")}},children:[{type:"div",props:{id:"editor",__didMount:function(){i.Z.trigger("preview-ready")}},h:'<div class="screen-root"><ul><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li></ul></div>'},{type:"iframe",props:{id:"preview-iframe",className:"preview-iframe",frameBorder:0,name:"preview-iframe",__didMount:function(){i.Z.trigger("preview-ready")}}}]}}]},{type:"div",props:{key:"footer",className:"liam-footer"},children:[{type:"span",props:{key:"trigger",className:"trigger",onClick:function(){i.Z.set("project-notice-visible",!i.Z.get("project-notice-visible"))}},children:{type:"svg",props:{style:{verticalAlign:"middle"},t:"1657877807798",className:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"3492",xlink:"http://www.w3.org/1999/xlink",width:"20",height:"20"},children:{type:"path",props:{d:"M640 832a128 128 0 0 1-255.84 6.4L384 832H192v-32a32 32 0 0 1 32-32h3.264l-1.792-352A286.592 286.592 0 0 1 480 129.76V96a32 32 0 0 1 64 0v33.76c144 15.936 256 138.016 256 286.24l-0.032 352H800a32 32 0 0 1 32 32v32h-192z m-64 0h-128a64 64 0 0 0 127.84 4.8L576 832zM512 192h-1.152a222.528 222.528 0 0 0-221.28 216l-0.096 7.68L291.264 768H736V416a224 224 0 0 0-216.32-223.872L512 192z",fill:"#000000",fillOpacity:".65","p-id":"3493"}}}},{type:function(){return{type:j,props:{status:i.Z.get("project-status"),name:i.Z.get("project-name")}}},props:{key:"name"},s:["project-status","project-name"]}]},{type:function(){return{type:C,props:{notices:i.Z.get("project-notices")||[],visible:i.Z.get("project-notice-visible")||!1}}},s:["project-notices","project-notice-visible"]}],R=F}}]);
//# sourceMappingURL=224.22132336.chunk.js.map